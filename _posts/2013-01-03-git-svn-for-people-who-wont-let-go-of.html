---
layout: post
title: "Git-Svn: For People Who Won't Let Go of Git"
date: 2013-01-03
comments: false
---

<div class='post'>
<span style="color: #333333; font-family: Arial, Helvetica, FreeSans, sans-serif;"><span style="line-height: 17.28333282470703px;">I've been using Git-Svn for awhile now at work because after using Git every day at my old job, I just couldn't go back. I'm hooked, and the prospect of using TortoiseSVN made me sad. So I hammered away trying to install, configure, and run Git-Svn on Cygwin.&nbsp;</span></span><span style="color: #333333; font-family: Arial, Helvetica, FreeSans, sans-serif;"><span style="line-height: 17.28333282470703px;">At some point I wrote up my experiences and shared them with my teammates. The result: we have three people successfully using Git-Svn and, very recently, started a project using full, pure Git! Git-Svn is in pretty wide use now and most of this can be dug up online pretty easily. But I'll post it here in the hopes that it helps someone out at some point.</span></span><br /><span style="color: #333333; font-family: Arial, Helvetica, FreeSans, sans-serif; font-size: x-small;"><span style="line-height: 17.28333282470703px;"><br /></span></span><br /><h5 style="font-family: Arial, Helvetica, FreeSans, sans-serif; font-size: 1.1em; margin: 0px 0px 0.1em; padding: 0px;"><span style="font-size: 1.4em;">Why Git?</span></h5><div style="color: #333333; font-family: Arial, Helvetica, FreeSans, sans-serif; font-size: 13.333333969116211px; line-height: 17.314815521240234px; margin-bottom: 10px; padding: 0px;">I'm not answering this.&nbsp;<a data-mce-href="http://lmgtfy.com/?q=why+git%3F" href="http://lmgtfy.com/?q=why+git%3F" style="color: rgb(0, 109, 175) !important; outline: none;">Seriously.</a>&nbsp;Git has been around since 2005. I know that for me, no amount of talking or reading convinced me git was better than any other VCS. Then I tried it. Try it.</div><h3 style="font-family: Arial, Helvetica, FreeSans, sans-serif; font-size: 1.4em; margin: 1.5em 0px 0.5em; padding: 0px;">Why git-svn?</h3><div style="color: #333333; font-family: Arial, Helvetica, FreeSans, sans-serif; font-size: 13.333333969116211px; line-height: 17.314815521240234px; margin-bottom: 10px; padding: 0px;">Better question. The status quo around here is to use Subversion for version control. There are worse things. SVN usually seems like the best thing to use until you use Git. As it turns out, git-svn is a full-fledged SVN client wrapper. That is, whatever Subversion can do, git-svn can do.</div><div style="color: #333333; font-family: Arial, Helvetica, FreeSans, sans-serif; font-size: 13.333333969116211px; line-height: 17.314815521240234px; margin-bottom: 10px; padding: 0px;">The result, when done properly, is a git client on your machine to do all the local branching, merging, and committing that you want. When you're ready, a simple command will push your changes to the Subversion repository.</div><h3 style="font-family: Arial, Helvetica, FreeSans, sans-serif; font-size: 1.4em; margin: 1.5em 0px 0.5em; padding: 0px;">Why Listen to Joe? He Looks Weird.</h3><div style="color: #333333; font-family: Arial, Helvetica, FreeSans, sans-serif; font-size: 13.333333969116211px; line-height: 17.314815521240234px; margin-bottom: 10px; padding: 0px;">Also a fair question and observation. I am not a git expert. I've simply used it for a couple of years and think it's the best product out there for version control. As of this writing, I've been using git-svn for nearly six months and have found it to be a great experience. What's more, you likely won't have to bang your head against the wall trying to figure out how to use it because I've taken the time to do that for you. This Wiki page is far from comprehensive, but I'll happily answer any questions you have and even try to fix any issues that you encounter.</div><h3 style="font-family: Arial, Helvetica, FreeSans, sans-serif; font-size: 1.4em; margin: 1.5em 0px 0.5em; padding: 0px;">Getting Started</h3><div style="color: #333333; font-family: Arial, Helvetica, FreeSans, sans-serif; font-size: 13.333333969116211px; line-height: 17.314815521240234px; margin-bottom: 10px; padding: 0px;">To start, you'll need Git. You'll preferably want a version &gt;= 1.7.0. Git can be installed via&nbsp;<a data-mce-href="http://www.cygwin.com/" href="http://www.cygwin.com/" style="color: rgb(0, 109, 175) !important; outline: none;">Cygwin</a>&nbsp;and this is the route I've chosen. All of my examples are based on Git version 1.7.9 on Cygwin running on Windows 7.</div><div style="color: #333333; font-family: Arial, Helvetica, FreeSans, sans-serif; font-size: 13.333333969116211px; line-height: 17.314815521240234px; margin-bottom: 10px; padding: 0px;">But you can also download a client for your system from the&nbsp;<a data-mce-href="http://git-scm.com/" href="http://git-scm.com/" style="color: rgb(0, 109, 175) !important; outline: none;">Git website</a>. There's even a&nbsp;<a data-mce-href="http://code.google.com/p/tortoisegit/" href="http://code.google.com/p/tortoisegit/" style="color: rgb(0, 109, 175) !important; outline: none;">TortoiseGit&nbsp;</a>for those of you who want an easy transition from TortoiseSVN.</div><h3 style="font-family: Arial, Helvetica, FreeSans, sans-serif; font-size: 1.4em; margin: 1.5em 0px 0.5em; padding: 0px;">Cloning Your Repository</h3><pre style="color: #333333; font-size: 13px; line-height: 17.33333396911621px; overflow: visible; padding: 0px; tab-size: 4; white-space: pre-wrap;">git svn clone http://path/to/your/repo</pre><span style="color: #333333; font-family: Arial, Helvetica, FreeSans, sans-serif; font-size: 13.333333969116211px; line-height: 17.314815521240234px;"><br />BEWARE: If your repository is huge or you have a huge number of commits this is going to take a LONG time! One way to get around this is to clone just the latest commit:</span><br /><div><span style="color: #333333; font-family: monospace; font-size: x-small;"><span style="line-height: 17.33333396911621px; white-space: pre-wrap;"><br /></span></span></div><div><pre style="color: #333333; font-size: 13px; line-height: 17.33333396911621px; overflow: visible; padding: 0px; tab-size: 4; white-space: pre-wrap;">git svn init http://path/to/your/repo<br />git svn fetch -r $REVISION_NUMBER</pre><pre style="color: #333333; font-size: 13px; line-height: 17.33333396911621px; overflow: visible; padding: 0px; tab-size: 4; white-space: pre-wrap;"></pre><div style="color: #333333; font-family: Arial, Helvetica, FreeSans, sans-serif; font-size: 13.333333969116211px; line-height: 17.314815521240234px; margin-bottom: 10px; padding: 0px;">Both approaches will continue to track your history from this point forward.</div><h3 style="font-family: Arial, Helvetica, FreeSans, sans-serif; font-size: 1.4em; margin: 1.5em 0px 0.5em; padding: 0px;">Workflow</h3><div style="color: #333333; font-family: Arial, Helvetica, FreeSans, sans-serif; font-size: 13.333333969116211px; line-height: 17.314815521240234px; margin-bottom: 10px; padding: 0px;">Your typical git workflow will fit just fine in the git-svn world. However, you'll want to keep a couple of extra commands handy for managing the transition from your git commits to the central SVN repo. Here is my typical hacking scenario:<br /><br /><br /><pre style="line-height: 17.33333396911621px; overflow: visible; padding: 0px; tab-size: 4; white-space: pre-wrap;">git checkout master<br />git svn rebase<br />git checkout -b feature-branch<br /><br />#Hack, hack, hack<br /><br />git ci . -m "GRT-999: Finishing the hackathon."<br /><br />git checkout master<br />git svn rebase<br /><br />git checkout feature-branch<br />git rebase master<br />git svn dcommit</pre></div><span style="color: #333333; font-family: Arial, Helvetica, FreeSans, sans-serif; font-size: 13.333333969116211px; line-height: 17.314815521240234px;">The last statement is functionally equivalent to 'git push' and will move your local changes to the repository. git-svn will make a Subversion commit for every one of your commits, which means you might generate a backup of builds if you're a frequent git committer (like me). However, you can also avoid that and roll all of your commits up into one subversion commit by doing the following:</span></div><div><span style="color: #333333; font-family: Arial, Helvetica, FreeSans, sans-serif; font-size: 13.333333969116211px; line-height: 17.314815521240234px;"><br /></span></div><div><pre style="color: #333333; font-size: 13px; line-height: 17.33333396911621px; overflow: visible; padding: 0px; tab-size: 4; white-space: pre-wrap;">git ci --amend --all</pre></div><div><h3 style="font-family: Arial, Helvetica, FreeSans, sans-serif; font-size: 1.4em; margin: 1.5em 0px 0.5em; padding: 0px;">Extras</h3><ul style="color: #333333; font-family: Arial, Helvetica, FreeSans, sans-serif; font-size: 13.333333969116211px; line-height: 17.314815521240234px; list-style-position: outside; margin-bottom: 10px; margin-left: 0px; margin-top: 0px; padding-left: 3em; padding-top: 0px;"><li style="font-size: 10pt; line-height: 13pt; margin: 0px; padding: 0px;"><div style="font-size: 10pt; line-height: 13pt; margin-bottom: 10px; padding: 0px;">Here's what I add to my .git/config file to make working with git even easier:<br /><br /><pre style="overflow: visible; padding: 0px; tab-size: 4; white-space: pre-wrap;"></pre><pre style="overflow: visible; padding: 0px; tab-size: 4; white-space: pre-wrap;">[alias]<br />        st = status<br />        ci = commit<br />        co = checkout<br />        df = diff<br />[color]<br />        branch = auto<br />        diff = auto<br />        interactive = auto<br />        status = auto</pre><br /></div></li></ul><ul style="color: #333333; font-family: Arial, Helvetica, FreeSans, sans-serif; font-size: 13.333333969116211px; line-height: 17.314815521240234px; list-style-position: outside; margin-bottom: 10px; margin-left: 0px; margin-top: 0px; padding-left: 3em; padding-top: 0px;"><li style="font-size: 10pt; line-height: 13pt; margin: 0px; padding: 0px;"><div style="font-size: 10pt; line-height: 13pt; margin-bottom: 10px; padding: 0px;">You'll find that you're using the above git-svn commands quite often. I set up a few quick bash aliases to save me all the typing:</div><div style="font-size: 10pt; line-height: 13pt; padding: 0px;"><br /><pre style="overflow: visible; padding: 0px; tab-size: 4; white-space: pre-wrap;">alias grm='git rebase master'<br />alias gcm='git co master'<br />alias gsd='git svn dcommit'<br />alias gsr='git svn rebase'<br />alias gs='git stash'<br />alias gsp='git stash pop'<br />alias st='git status'</pre></div></li></ul><ul style="color: #333333; font-family: Arial, Helvetica, FreeSans, sans-serif; font-size: 13.333333969116211px; line-height: 17.314815521240234px; list-style-position: outside; margin-bottom: 10px; margin-left: 0px; margin-top: 0px; padding-left: 3em; padding-top: 0px;"><li style="font-size: 10pt; line-height: 13pt; margin: 0px; padding: 0px;"><div style="font-size: 10pt; line-height: 13pt; margin-bottom: 10px; padding: 0px;">It's a good idea to keep a .gitignore file (which is how git keeps track of, well, ignored files) in your repository so that other people using git-svn can benefit. To set it up for the first time, you can use the following command to parse all of your SVN ignores and push them into .gitignore:</div><div style="font-size: 10pt; line-height: 13pt; padding: 0px;"><br /><pre style="overflow: visible; padding: 0px; tab-size: 4; white-space: pre-wrap;">git svn show-ignore &gt;&gt; .gitignore</pre><br /><br />BEWARE: This command takes a VERY LONG time, but it only has to be run once. From that point on you can edit the .gitignore file using Vim/your favorite editor.</div></li></ul><div style="color: #333333; font-family: Arial, Helvetica, FreeSans, sans-serif; font-size: 13.333333969116211px; line-height: 17.314815521240234px; padding: 0px;"></div></div></div>
